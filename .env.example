# CONFIGURACIÓN DEL PROYECTO GIBSE (UTF-8)
# Copia a .env del servidor y completa valores.
# NUNCA lo subas con secretos reales al repositorio.

# =========================
# DOMINIO / HOST
# =========================
DOMAIN=localhost

# =========================
# RUTAS EN EL HOST (no root)
# =========================
PROJECT_DIR=/var/www/gibse
LOG_FILE=/var/www/gibse/logs/webhook.log
UPDATE_SCRIPT=/var/www/gibse/scripts/update.sh

# =========================
# SERVIDOR WEB (elige uno)
# =========================
NGINX_SITES=/etc/nginx/sites-available
NGINX_ENABLED=/etc/nginx/sites-enabled
# APACHE_DOCUMENT_ROOT=/var/www/html  # <— Solo si usas Apache. Si no, comenta.

# =========================
# WEBHOOK
# =========================
# Genera con:  openssl rand -hex 32
WEBHOOK_SECRET=CAMBIA_ESTE_VALOR_A_UN_HEX_64
# Opcional: restringir rama aceptada por el webhook
GIT_BRANCH=main
# Opcional: allowlist (firewall/Nginx). Mantener fuera del repo si contiene IPs reales.
# WEBHOOK_ALLOWLIST=GITHUB|GITLAB|IPSET

# =========================
# DOCKER / COMPOSE
# =========================
DOCKER_COMPOSE_FILE=docker-compose.yml
DOCKER_CONTAINER_NAME=gibse-web
# No expongas el servicio directo a Internet; usa reverse proxy.
DOCKER_PORT=80

# =========================
# POLÍTICAS / FLAGS
# =========================
# Forzar despliegue atómico y rollback en fallo (usado por update.sh)
DEPLOY_ATOMICO=true
ROLLOUT_HEALTHCHECK_PATH=/health
ROLLOUT_HEALTHCHECK_TIMEOUT=30
